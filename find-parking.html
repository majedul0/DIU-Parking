<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIU Vehicle Parking - Find Parking</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="find-parking.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation Header -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="https://images.seeklogo.com/logo-png/36/2/daffodil-international-university-logo-png_seeklogo-361757.png" alt="DIU Logo" class="nav-diu-logo">
                <div class="nav-logo-text">
                    <span class="nav-title">DIU Vehicle Parking</span>
                    <span class="nav-subtitle">Smart Parking System</span>
                </div>
            </div>
            
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-link">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
                <a href="find-parking.html" class="nav-link active">
                    <i class="fas fa-map-marker-alt"></i>
                    Find Parking
                </a>
                <a href="book-parking.html" class="nav-link">
                    <i class="fas fa-calendar-plus"></i>
                    Book Parking
                </a>
                <a href="history.html" class="nav-link">
                    <i class="fas fa-history"></i>
                    History
                </a>
                <a href="payments.html" class="nav-link">
                    <i class="fas fa-credit-card"></i>
                    Payments
                </a>
                <a href="settings.html" class="nav-link">
                    <i class="fas fa-cog"></i>
                    Settings
                </a>
            </div>
            
            <div class="nav-user">
                <div class="user-info">
                    <img src="https://via.placeholder.com/40x40/1a4b84/ffffff?text=U" alt="User" class="user-avatar">
                    <div class="user-details">
                        <span class="user-name">Sahik</span>
                        <span class="user-role">Student</span>
                    </div>
                </div>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Page Header -->
        <div class="page-header">
            <div class="header-content">
                <h1><i class="fas fa-map-marker-alt"></i> Find Parking</h1>
                <p>Discover available parking spots near your destination</p>
            </div>
            <div class="header-actions">
                <button class="btn-secondary" onclick="history.back()">
                    <i class="fas fa-arrow-left"></i>
                    Back
                </button>
            </div>
        </div>

        <!-- Search and Filters -->
        <div class="search-section">
            <div class="search-container">
                <div class="search-input">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search for parking areas, buildings, or zones..." id="search-input">
                    <button class="search-btn" onclick="performSearch()">
                        <i class="fas fa-search"></i>
                        Search
                    </button>
                </div>
                
                <div class="filters">
                    <div class="filter-group">
                        <label><i class="fas fa-car"></i> Vehicle Type:</label>
                        <select id="vehicle-filter">
                            <option value="all">All Vehicles</option>
                            <option value="car">Car</option>
                            <option value="motorcycle">Motorcycle</option>
                            <option value="truck">Truck</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label><i class="fas fa-money-bill"></i> Price Range:</label>
                        <select id="price-filter">
                            <option value="all">All Prices</option>
                            <option value="low">৳0 - ৳20/hour</option>
                            <option value="medium">৳20 - ৳50/hour</option>
                            <option value="high">৳50+/hour</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label><i class="fas fa-check-circle"></i> Availability:</label>
                        <select id="availability-filter">
                            <option value="all">All</option>
                            <option value="available">Available Now</option>
                            <option value="limited">Limited</option>
                        </select>
                    </div>
                    
                    <button class="btn-primary" onclick="applyFilters()">
                        <i class="fas fa-filter"></i>
                        Apply Filters
                    </button>
                </div>
            </div>
        </div>

        <!-- Map and Results Container -->
        <div class="map-results-container">
            <!-- Interactive Map -->
            <div class="map-container">
                <div class="map-header">
                    <h3><i class="fas fa-map"></i> DIU Campus Parking Map</h3>
                    <div class="map-controls">
                        <button class="map-btn" onclick="resetMap()">
                            <i class="fas fa-home"></i>
                        </button>
                        <button class="map-btn" onclick="toggleSatellite()">
                            <i class="fas fa-satellite"></i>
                        </button>
                        <button class="map-btn" onclick="fullscreenMap()">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                </div>
                
                <div class="map-content">
                    <!-- Simulated Map with Parking Zones -->
                    <div class="parking-map">
                        <div class="map-zone zone-a" data-zone="A">
                            <div class="zone-label">Zone A</div>
                            <div class="zone-info">
                                <h4>Main Campus</h4>
                                <p>12/20 spots available</p>
                                <span class="rate">৳20/hour</span>
                            </div>
                        </div>
                        
                        <div class="map-zone zone-b" data-zone="B">
                            <div class="zone-label">Zone B</div>
                            <div class="zone-info">
                                <h4>Motorcycle</h4>
                                <p>8/15 spots available</p>
                                <span class="rate">৳10/hour</span>
                            </div>
                        </div>
                        
                        <div class="map-zone zone-c" data-zone="C">
                            <div class="zone-label">Zone C</div>
                            <div class="zone-info">
                                <h4>Staff</h4>
                                <p>3/10 spots available</p>
                                <span class="rate">৳25/hour</span>
                            </div>
                        </div>
                        
                        <div class="map-zone zone-d" data-zone="D">
                            <div class="zone-label">Zone D</div>
                            <div class="zone-info">
                                <h4>Visitor</h4>
                                <p>5/12 spots available</p>
                                <span class="rate">৳30/hour</span>
                            </div>
                        </div>
                        
                        <div class="map-zone zone-e" data-zone="E">
                            <div class="zone-label">Zone E</div>
                            <div class="zone-info">
                                <h4>Library</h4>
                                <p>7/15 spots available</p>
                                <span class="rate">৳15/hour</span>
                            </div>
                        </div>
                        
                        <!-- Building markers -->
                        <div class="building academic" data-building="Academic Building">
                            <i class="fas fa-university"></i>
                        </div>
                        <div class="building library" data-building="Library">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="building canteen" data-building="Canteen">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <div class="building admin" data-building="Admin Block">
                            <i class="fas fa-building"></i>
                        </div>
                    </div>
                    
                    <div class="map-legend">
                        <div class="legend-item">
                            <span class="legend-color zone-a"></span>
                            <span>Zone A - Main Campus</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color zone-b"></span>
                            <span>Zone B - Motorcycle</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color zone-c"></span>
                            <span>Zone C - Staff</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color zone-d"></span>
                            <span>Zone D - Visitor</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color zone-e"></span>
                            <span>Zone E - Library</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search Results -->
            <div class="results-container">
                <div class="results-header">
                    <h3><i class="fas fa-list"></i> Available Parking Spots</h3>
                    <span class="results-count">24 spots found</span>
                </div>
                
                <div class="results-list" id="results-list">
                    <!-- Results will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions-section">
            <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
            <div class="quick-actions-grid">
                <button class="quick-action-btn" onclick="findNearest()">
                    <i class="fas fa-location-arrow"></i>
                    <span>Find Nearest</span>
                </button>
                <button class="quick-action-btn" onclick="showDirections()">
                    <i class="fas fa-route"></i>
                    <span>Get Directions</span>
                </button>
                <button class="quick-action-btn" onclick="bookQuick()">
                    <i class="fas fa-calendar-plus"></i>
                    <span>Quick Book</span>
                </button>
                <button class="quick-action-btn" onclick="shareLocation()">
                    <i class="fas fa-share-alt"></i>
                    <span>Share Location</span>
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2024 DIU Vehicle Parking System. All rights reserved.</p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Support</a>
            </div>
        </div>
    </footer>

    <script>
        // Sample parking data
        const parkingData = [
            {
                id: 1,
                zone: 'A',
                spot: 'A1',
                type: 'Car',
                rate: 20,
                status: 'available',
                distance: '50m',
                building: 'Academic Building'
            },
            {
                id: 2,
                zone: 'A',
                spot: 'A2',
                type: 'Car',
                rate: 20,
                status: 'available',
                distance: '75m',
                building: 'Academic Building'
            },
            {
                id: 3,
                zone: 'B',
                spot: 'B1',
                type: 'Motorcycle',
                rate: 10,
                status: 'available',
                distance: '30m',
                building: 'Library'
            },
            {
                id: 4,
                zone: 'C',
                spot: 'C1',
                type: 'Car',
                rate: 25,
                status: 'available',
                distance: '100m',
                building: 'Admin Block'
            },
            {
                id: 5,
                zone: 'D',
                spot: 'D1',
                type: 'Car',
                rate: 30,
                status: 'available',
                distance: '120m',
                building: 'Visitor Center'
            }
        ];

        // Initialize results
        function initializeResults() {
            const resultsList = document.getElementById('results-list');
            resultsList.innerHTML = '';
            
            parkingData.forEach(spot => {
                const resultItem = createResultItem(spot);
                resultsList.appendChild(resultItem);
            });
        }

        // Create result item
        function createResultItem(spot) {
            const item = document.createElement('div');
            item.className = 'result-item';
            item.innerHTML = `
                <div class="result-header">
                    <h4>${spot.zone}${spot.spot}</h4>
                    <span class="status ${spot.status}">${spot.status}</span>
                </div>
                <div class="result-details">
                    <div class="detail-row">
                        <span><i class="fas fa-car"></i> ${spot.type}</span>
                        <span><i class="fas fa-money-bill"></i> ৳${spot.rate}/hour</span>
                    </div>
                    <div class="detail-row">
                        <span><i class="fas fa-map-marker-alt"></i> ${spot.building}</span>
                        <span><i class="fas fa-ruler"></i> ${spot.distance}</span>
                    </div>
                </div>
                <div class="result-actions">
                    <button class="btn-secondary" onclick="viewDetails(${spot.id})">
                        <i class="fas fa-eye"></i> View
                    </button>
                    <button class="btn-primary" onclick="bookSpot('${spot.zone}${spot.spot}')">
                        <i class="fas fa-calendar-plus"></i> Book
                    </button>
                </div>
            `;
            return item;
        }

        // Apply filters
        function applyFilters() {
            const vehicleFilter = document.getElementById('vehicle-filter').value;
            const priceFilter = document.getElementById('price-filter').value;
            const availabilityFilter = document.getElementById('availability-filter').value;
            
            // Filter logic would go here
            console.log('Filters applied:', { vehicleFilter, priceFilter, availabilityFilter });
            
            // For demo, just show a message
            alert('Filters applied! Results updated.');
        }

        // Map functions
        function resetMap() {
            alert('Map reset to default view');
        }

        function toggleSatellite() {
            alert('Satellite view toggled');
        }

        function fullscreenMap() {
            alert('Map expanded to fullscreen');
        }

        // Quick action functions
        function findNearest() {
            alert('Finding nearest available parking spot...');
        }

        function showDirections() {
            alert('Opening directions to selected parking spot...');
        }

        function bookQuick() {
            window.location.href = 'book-parking.html';
        }

        function shareLocation() {
            if (navigator.share) {
                navigator.share({
                    title: 'DIU Parking Location',
                    text: 'Check out this parking spot at DIU!',
                    url: window.location.href
                });
            } else {
                alert('Location shared!');
            }
        }

        // Result actions
        function viewDetails(id) {
            alert(`Viewing details for parking spot ${id}`);
        }

        function bookSpot(spotId) {
            if (confirm(`Book parking spot ${spotId}?`)) {
                window.location.href = 'book-parking.html';
            }
        }

        // Search functionality
        document.getElementById('search-input').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            if (searchTerm.length > 2) {
                // Search logic would go here
                console.log('Searching for:', searchTerm);
            }
        });

        // Perform search function
        function performSearch() {
            const searchInput = document.getElementById('search-input');
            const searchTerm = searchInput.value.trim();
            
            if (searchTerm.length === 0) {
                alert('Please enter a search term');
                return;
            }
            
            // Show loading state
            const searchBtn = document.querySelector('.search-btn');
            searchBtn.classList.add('loading');
            searchBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            
            // Simulate search
            setTimeout(() => {
                searchBtn.classList.remove('loading');
                searchBtn.innerHTML = '<i class="fas fa-search"></i> Search';
                
                // Filter results based on search term
                const filteredResults = parkingData.filter(spot => 
                    spot.zone.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    spot.building.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    spot.type.toLowerCase().includes(searchTerm.toLowerCase())
                );
                
                if (filteredResults.length > 0) {
                    alert(`Found ${filteredResults.length} parking spots matching "${searchTerm}"`);
                    // Here you would update the results list
                } else {
                    alert(`No parking spots found matching "${searchTerm}"`);
                }
            }, 1500);
        }

        // Zone click events
        document.querySelectorAll('.map-zone').forEach(zone => {
            zone.addEventListener('click', function() {
                const zoneId = this.dataset.zone;
                alert(`Zone ${zoneId} selected. ${this.querySelector('.zone-info h4').textContent}`);
            });
        });

        // Building click events
        document.querySelectorAll('.building').forEach(building => {
            building.addEventListener('click', function() {
                const buildingName = this.dataset.building;
                alert(`${buildingName} selected. Finding nearby parking...`);
            });
        });

        // Logout function
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                window.location.href = 'index.html';
            }
        }

        // Initialize page
        initializeResults();
    </script>
</body>
</html>
